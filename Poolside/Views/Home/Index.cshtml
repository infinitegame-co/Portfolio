@model GlobalViewModel;
@{
    ViewData["Title"] = "Home Page";
}
<link href="~/css/Draggable.css" rel="stylesheet" />
<link href="~/css/MainPage.css" rel="stylesheet" />
<div>
    <div id="LoginWindow">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display: none;">
            <div class="background">
                <div id="SignUp" style="display:inline-block;">
                    @await Html.PartialAsync("../Account/Register.cshtml", Model.VMlogin)
                </div>
                <div id="LogIn" style="display:none;">
                    @await Html.PartialAsync("../Account/Login.cshtml", Model.VMlogin)
                </div>
                <div class="SignUp" id="LogInForgot" style="display:none;">
                    @await Html.PartialAsync("../Account/Forgot.cshtml", Model.VMlogin)
                </div>
            </div>
        </div>
    </div>

    <div id="GuestBookWindow">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display: none;">
            <div class="background">
                <div class="Drag-header">
                    <span class="Bt-Close" onclick="CloseWindow('GuestBookWindow')"></span>
                    <img src="~/img/UI/DragBar.png" class="spacer" />
                    <h2 class="Content-Title">
                        GuestBook
                    </h2>
                </div>
                <div id="GuestBook" style="display:inline-block;">
                    @await Html.PartialAsync("../GuestBook/GuestBook.cshtml", Model.VMguestBook)
                </div>
                <div style="height:253px;">
                    <ul style="height: calc(100% + 2px); overflow:auto; left:0; list-style: none;">
                        @foreach (GuestBookViewModel gb in Model.VMindex.GuestBookEntries)
                        {
                            <li style="border: 1px solid #000;">
                                @*@if (Model.VMlogin != null && Model.VMlogin.IsAdmin == true)
                                    {
                                        @using (Html.BeginForm("DeleteEntry", "Home", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, false, new { @class = "form-horizontal", role = "form" }))
                                        {
                                            <form>//TODO: fix this asap, IActionResult does not receive guestbook value
                                                <input type="hidden" asp-for="VMguestBook" value=@gb />
                                                <button type="submit">
                                                </button>
                                            </form>
                                        }
                                    }*@
                                <p>
                                    <bold>@gb.UserNickName </bold>
                                    @gb.PostDate.ToString("HH:mm  dd/MM/yyyy")
                                </p>
                                <p style="overflow-wrap:break-word">
                                    @gb.Message
                                </p>
                            </li>
                        }
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="LogoutWindow">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display:none;">
            <div class="Bottom-image" style="position:absolute; bottom:0; left:0; width: calc(100% - 18px);height: 12px;"></div>
            <div class="background">
                <div class="Drag-header">
                    <span class="Bt-Close" onclick="CloseWindow('LogoutWindow')"></span>
                    <img src="~/img/UI/DragBar.png" class="spacer" />
                    <h2 class="Content-Title">
                        Cosby
                    </h2>
                </div>
                <div class="Box-Outer">
                    <img src="~/Content/Images/loginSignup/signup1.png" class="Box-Inner" />
                </div>
                <div id="resizable" class="scale"></div>
            </div>
        </div>
    </div>

    <div id="KermitWindow">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display:none;">
            <div class="Bottom-image" style="position:absolute; bottom:0; left:0; width: calc(100% - 18px);height: 12px;"></div>
            <div class="background">
                <div class="Drag-header">
                    <span class="Bt-Close" onclick="CloseWindow('KermitWindow')"></span>
                    <img src="~/img/UI/DragBar.png" class="spacer" />
                    <h2 class="Content-Title">
                        Kermit
                    </h2>
                </div>
                <div class="Box-Outer">
                    <img src="~/Content/Images/tumblr_inline_ov9h7hZgKq1rsx9gn_540.png" class="Box-Inner" />
                </div>
                <div id="resizable" class="scale"></div>
            </div>
        </div>
    </div>

    <div id="TestPortfolioPage">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display:none;">
            <div class="Bottom-image" style="        position: absolute;
        bottom: 0;
        left: 0;
        width: calc(100% - 18px);
        height: 12px;"></div>
            <div class="background">
                <div class="Drag-header">
                    <span class="Bt-Close" onclick="CloseWindow('TestPortfolioPage')"></span>
                    <img src="~/img/UI/DragBar.png" class="spacer" />
                    <h2 class="Content-Title">
                        TestBlog
                    </h2>
                </div>
                <div class="Box-Outer">
                    <div style="width:800px; height:500px; overflow-y:auto; overflow-wrap:break-word; border: 1px solid #000;">
                        @await Html.PartialAsync("../Blog/TestBlog.cshtml")
                    </div>
                </div>
                <div class="scale"></div>
            </div>
        </div>
    </div>

    <div id="ErrorMessage">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display:inline-block;">
            <div class="Bottom-image" style="position:absolute; bottom: 0; left: 0; width: calc(100% - 18px);height: 12px;"></div>
            <div class="background">
                <div class="Drag-header">
                    <img src="~/img/UI/DragBar.png" class="spacer" style="width:60% !important;" />
                    <h2 class="Content-Title">
                        Latest Message
                    </h2>
                </div>
                <div class="Box-Outer">
                    <div style="background-color:white; width: 300px; height: 200px;" class="Box-Inner">
                        <span style="padding-left: 5px;"> @Model.LatestMessage</span>
                    </div>
                </div>
                <div class="scale"></div>
            </div>
        </div>
    </div>

    <div id="PortfolioFolder">
        <div class="shadowB Draggable" style="position: absolute; border: 1px solid #000; display:none;">
            <div class="Bottom-image" style="position:absolute; bottom: 0; left: 0; width: calc(100% - 18px);height: 12px;"></div>
            <div class="background">
                <div class="Drag-header">
                    <span class="Bt-Close" onclick="CloseWindow('PortfolioFolder')"></span>
                    <img src="~/img/UI/DragBar.png" class="spacer" />
                    <h2 class="Content-Title">
                        Portfolio
                    </h2>
                </div>
                <div class="Box-Outer">
                    <div style="background-color:white; width: 200px; height: 100px;" class="Box-Inner"> </div>
                </div>
                <div class="scale"></div>
            </div>
        </div>
    </div>

    <div style="position:absolute; bottom: 10px; left: 10px;">
        <ul class="Icon-Row">
            <li class="Icon-Item" onclick="OpenWindowCoord('PortfolioFolder',100,100)">
                <div>
                    <div class="Icon-Wrapper">
                        <img src="~/img/UI/Desktop/Folder.png" />
                    </div>
                    <span>Portfolio</span>
                </div>
            </li>
            <li class="Icon-Item" onclick="OpenWindowCoord('KermitWindow',100,100)">
                <div>
                    <div class="Icon-Wrapper">
                        <img src="~/Content/Images/shortcutIcons/tumblr_inline_ov9h7hZgKq1rsx9gn_540.png" />
                    </div>
                    <span>Kermit.png</span>
                </div>
            </li>
            <li class="Icon-Item" onclick="OpenWindowCoord('TestPortfolioPage',100,100)">
                <div>
                    <div class="Icon-Wrapper">
                        <img src="~/img/UI/Desktop/Text.png" />
                    </div>
                    <span>TestPortfolioPage.txt</span>
                </div>
            </li>
            <li class="Icon-Item" onclick="OpenWindowCoord('GuestBookWindow',100,100)">
                <div>
                    <div class="Icon-Wrapper">
                        <img src="~/img/UI/Desktop/GuestBook.png" />
                    </div>
                    <span>GuestBook</span>
                </div>
            </li>

        </ul>
        @*<ul class="Icon-Row">

            </ul>*@
    </div>
</div>